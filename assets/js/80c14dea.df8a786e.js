(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{126:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return o})),t.d(n,"metadata",(function(){return l})),t.d(n,"toc",(function(){return s})),t.d(n,"default",(function(){return u}));var r=t(3),i=t(8),a=(t(0),t(181)),c=["components"],o={id:"configure-client",title:"Configure the Polywrap Client"},l={unversionedId:"quick-start/integrate-wrappers/configure-client",id:"quick-start/integrate-wrappers/configure-client",isDocsHomePage:!1,title:"Configure the Polywrap Client",description:"The Polywrap Client accepts a ClientConfig argument at construction.",source:"@site/docs/quick-start/integrate-wrappers/configure-client.md",slug:"/quick-start/integrate-wrappers/configure-client",permalink:"/quick-start/integrate-wrappers/configure-client",editUrl:"https://github.com/polywrap/documentation/tree/main/src/docs/quick-start/integrate-wrappers/configure-client.md",version:"current",sidebar:"docs",previous:{title:"Creating the Polywrap client instance",permalink:"/quick-start/integrate-wrappers/create-client-instance"},next:{title:"Generate types for your app",permalink:"/quick-start/integrate-wrappers/types-for-app"}},s=[{value:"The <code>ClientConfig</code> object",id:"the-clientconfig-object",children:[]},{value:"Redirects",id:"redirects",children:[]},{value:"Plugins",id:"plugins",children:[]},{value:"Interfaces",id:"interfaces",children:[]},{value:"Envs",id:"envs",children:[]},{value:"Uri Resolvers",id:"uri-resolvers",children:[]}],p={toc:s};function u(e){var n=e.components,t=Object(i.a)(e,c);return Object(a.b)("wrapper",Object(r.a)({},p,t,{components:n,mdxType:"MDXLayout"}),Object(a.b)("p",null,"The Polywrap Client accepts a ",Object(a.b)("a",{parentName:"p",href:"../../reference/clients/js/client-config"},Object(a.b)("inlineCode",{parentName:"a"},"ClientConfig"))," argument at construction. "),Object(a.b)("p",null,"While the ",Object(a.b)("a",{parentName:"p",href:"https://github.com/polywrap/monorepo/blob/origin/packages/js/client/src/default-client-config.ts"},"default Client Config"),"\nis sufficient for some use cases, you will likely want to customize it.\nThe config you provide to the client will modify and add to the default configuration."),Object(a.b)("h2",{id:"the-clientconfig-object"},"The ",Object(a.b)("inlineCode",{parentName:"h2"},"ClientConfig")," object"),Object(a.b)("p",null,"The ",Object(a.b)("a",{parentName:"p",href:"../../reference/clients/js/client-js"},Object(a.b)("inlineCode",{parentName:"a"},"PolywrapClient"))," can be configured to redirect URIs, use different plugins,\nregister interface implementations, set environmental variables, and customize URI resolution."),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-typescript"},"interface ClientConfig {\n  redirects: UriRedirect[]; // redirect queries from one uri to another\n  plugins: PluginRegistration[]; // declare and configure plugins\n  interfaces: InterfaceImplementations[]; // declare interface implementations\n  envs: Env[]; // set environmental variables\n  uriResolvers: UriResolver[]; // resolve custom URIs\n}\n")),Object(a.b)("h2",{id:"redirects"},"Redirects"),Object(a.b)("p",null,Object(a.b)("a",{parentName:"p",href:"../../concepts/understanding-uri-redirects"},"URI Redirects")," can be used to redirect queries from one URI to another.\nThis redirection occurs in all queries to the URI, even in cases where one wrapper calls another during its execution."),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-typescript"},'const clientConfig: Partial<ClientConfig> = {\n  redirects: [\n    {\n      from: "wrap://ens/from.eth", // uri to redirect from\n      to: "wrap://ens/to.eth", // uri to redirct to\n    }\n  ],\n};\n')),Object(a.b)("h2",{id:"plugins"},"Plugins"),Object(a.b)("p",null,"To use a ",Object(a.b)("a",{parentName:"p",href:"../../concepts/understanding-plugins"},"plugin wrapper"),", it has to be registered in the ",Object(a.b)("a",{parentName:"p",href:"../../reference/clients/js/client-config"},Object(a.b)("inlineCode",{parentName:"a"},"ClientConfig")),".\nEach item in the array of plugins contains the URI at which the plugin will be invoked and a ",Object(a.b)("inlineCode",{parentName:"p"},"PluginPackage"),".\nA ",Object(a.b)("inlineCode",{parentName:"p"},"PluginPackage")," is a factory function the ",Object(a.b)("a",{parentName:"p",href:"../../reference/clients/js/client-js"},Object(a.b)("inlineCode",{parentName:"a"},"PolywrapClient"))," uses to create new\ninstances of the plugin.\nEach plugin can have its own configuration."),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-typescript"},'const clientConfig: Partial<ClientConfig> = {\n  plugins: [\n    {\n      uri: "wrap://ens/ethereum.polywrap.eth",\n      plugin: ethereumPlugin({\n        networks: {\n          testnet: {\n            provider: "http://localhost:8545"\n          },\n        },\n        defaultNetwork: "testnet",\n      }),\n    },\n  ],\n};\n')),Object(a.b)("h2",{id:"interfaces"},"Interfaces"),Object(a.b)("p",null,"Users can declare custom implementations for an interface by providing the interface URI and one or more URIs that resolve to implementations."),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-typescript"},'const clientConfig: Partial<ClientConfig> = {\n  interfaces: [\n    {\n      interface: "wrap://ens/logger.core.polywrap.eth",\n      implementations: ["wrap://ens/js-logger.polywrap.eth"],\n    },\n  ],\n};\n')),Object(a.b)("h2",{id:"envs"},"Envs"),Object(a.b)("p",null,"Users can provide wrapper-specific environmental variables by providing the wrapper URI and an object with strings as keys.\nWrapper developers use the ",Object(a.b)("a",{parentName:"p",href:"../wrapper-schema#environmental-variables"},"Wrapper Schema")," to specify which methods accept or require environmental variables."),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-typescript"},'const clientConfig: Partial<ClientConfig> = {\n  envs: [\n    {\n      uri: "wrap://ens/wrapper.eth",\n      env: {\n        connection: {\n          networkNameOrChainId: "polygon",\n        },\n      },\n    },\n  ],\n};\n')),Object(a.b)("h2",{id:"uri-resolvers"},"Uri Resolvers"),Object(a.b)("p",null,"By default, the Client can resolve ENS, IPFS, and filesystem URIs.\nIt is possible to use custom URI Resolvers as well.\nDocumentation on how to do so is coming soon!"))}u.isMDXComponent=!0},181:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return d}));var r=t(0),i=t.n(r);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var s=i.a.createContext({}),p=function(e){var n=i.a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},u=function(e){var n=p(e.components);return i.a.createElement(s.Provider,{value:n},e.children)},f={inlineCode:"code",wrapper:function(e){var n=e.children;return i.a.createElement(i.a.Fragment,{},n)}},b=i.a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,a=e.originalType,c=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),u=p(t),b=r,d=u["".concat(c,".").concat(b)]||u[b]||f[b]||a;return t?i.a.createElement(d,o(o({ref:n},s),{},{components:t})):i.a.createElement(d,o({ref:n},s))}));function d(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=t.length,c=new Array(a);c[0]=b;var o={};for(var l in n)hasOwnProperty.call(n,l)&&(o[l]=n[l]);o.originalType=e,o.mdxType="string"==typeof e?e:r,c[1]=o;for(var s=2;s<a;s++)c[s]=t[s];return i.a.createElement.apply(null,c)}return i.a.createElement.apply(null,t)}b.displayName="MDXCreateElement"}}]);