"use strict";(self.webpackChunk_polywrap_docs=self.webpackChunk_polywrap_docs||[]).push([[9886],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>f});var a=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=a.createContext({}),l=function(e){var t=a.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):p(p({},t),e)),r},c=function(e){var t=l(e.components);return a.createElement(s.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,s=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),u=l(r),m=n,f=u["".concat(s,".").concat(m)]||u[m]||d[m]||i;return r?a.createElement(f,p(p({ref:t},c),{},{components:r})):a.createElement(f,p({ref:t},c))}));function f(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,p=new Array(i);p[0]=m;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[u]="string"==typeof e?e:n,p[1]=o;for(var l=2;l<i;l++)p[l]=r[l];return a.createElement.apply(null,p)}return a.createElement.apply(null,r)}m.displayName="MDXCreateElement"},1032:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>p,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>l});var a=r(7462),n=(r(7294),r(3905));const i={id:"get-wrapper-metadata",title:"Get Wrapper Metadata"},p=void 0,o={unversionedId:"tutorials/integrate-wrappers/get-wrapper-metadata",id:"tutorials/integrate-wrappers/get-wrapper-metadata",title:"Get Wrapper Metadata",description:"Some application developers may be interested adding or retrieving wrapper metadata.",source:"@site/docs/tutorials/integrate-wrappers/get-wrapper-metadata.md",sourceDirName:"tutorials/integrate-wrappers",slug:"/tutorials/integrate-wrappers/get-wrapper-metadata",permalink:"/tutorials/integrate-wrappers/get-wrapper-metadata",draft:!1,editUrl:"https://github.com/polywrap/documentation/tree/main/src/docs/tutorials/integrate-wrappers/get-wrapper-metadata.md",tags:[],version:"current",frontMatter:{id:"get-wrapper-metadata",title:"Get Wrapper Metadata"},sidebar:"docs",previous:{title:"React integration",permalink:"/tutorials/integrate-wrappers/react-integration"},next:{title:"Project setup",permalink:"/tutorials/create-wasm-wrappers/tutorial/project-setup"}},s={},l=[],c={toc:l},u="wrapper";function d(e){let{components:t,...r}=e;return(0,n.kt)(u,(0,a.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Some application developers may be interested adding or retrieving wrapper metadata.\nWrapper developers can add metadata to their wrappers by writing a Meta Manifest file.\nApplication developers can obtain the Meta Manifest as an object or class in the client's native language."),(0,n.kt)("p",null,"More information about the contents of the Meta Manifest can be found in ",(0,n.kt)("a",{parentName:"p",href:"../create-wasm-wrappers/add-metadata"},"Add Metadata"),"."),(0,n.kt)("p",null,"The client's ",(0,n.kt)("inlineCode",{parentName:"p"},"getFile")," method can be used to retrieve a file from a wrapper. It uses the wrapper URI as the root path."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-typescript"},'const result = await client.getFile(uri, { path: "./polywrap.meta.json", encoding: "utf-8" });\nif (!result.ok) return undefined;\nconst manifest: MetaManifest = JSON.parse(result.value as string);\n')),(0,n.kt)("p",null,"To obtain icons from paths listed in a wrapper's Meta Manifest, use ",(0,n.kt)("inlineCode",{parentName:"p"},"getFile")," again.\nThe return type of ",(0,n.kt)("inlineCode",{parentName:"p"},"getFile")," will be a string if the ",(0,n.kt)("inlineCode",{parentName:"p"},"encoding")," option is used, and an ArrayBuffer otherwise."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-typescript"},'const isBuffer = await client.getFile(uri, { path: manifest.icon });\nconst isString = await client.getFile(uri, { path: manifest.icon, encoding: "utf-8" });\n')),(0,n.kt)("p",null,"We wrote a React app to demo fetching and displaying wrapper metadata.\n",(0,n.kt)("a",{parentName:"p",href:"https://github.com/polywrap/demos/tree/main/fetch-metadata"},"You can view the source code here"),"."))}d.isMDXComponent=!0}}]);